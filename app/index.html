<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Dataviz</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <!-- build:css(.tmp) styles/main.css -->
        <link rel="stylesheet" href="styles/main.css">
        <!-- endbuild -->
        <!-- build:js scripts/vendor/modernizr.js -->
        <script src="bower_components/modernizr/modernizr.js"></script>
        <script src="bower_components/d3/d3.min.js"></script>
        <!-- endbuild -->
        <style type="text/css">
          .departement {
            cursor: pointer;
          }
          .departement:hover {
            stroke: white;
            stroke-width: .5px;
          }
        </style>
    </head>
    <body>
        <!--[if lt IE 10]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->


        <div class="hero-unit">
          <h1>Page d'accueil</h1>
          <p>dataviz</p>
          <a href="#" class="active">module 1</a>
          <a href="#">module 2</a>
          <a href="#">module 3</a>
        </div>
        <div id="map">
        </div>
            <script>
              (function() {

                var width = 800;
                var height = 700;

                // Création objet path pour manipuler les données geographiques
                var path = d3.geo.path();

                // On définit les propriétés de la projection à utiliser
                var projection = d3.geo.conicConformal()
                  .center([2.454071, 47.279229]) // On centre la carte sur la France
                  .scale(4000)
                  .translate([width / 2, height / 2]);

                path.projection(projection); // On assigne la projection au path

                // Création du svg
                var svg = d3.select('#map').append("svg")
                    .attr("width", width)
                    .attr("height", height);

                // Création d'un groupe qui réuni tous les départements
                var fra = svg
                  .append("g")
                  .attr("id", "france");

                // On récupère les données JSON
                d3.json('../datas/france.json', function(req, geojson) {

                  // On récupère le path de chaque entrée du tableau
                  var features = fra
                    .selectAll("path")
                    .data(geojson.features);

                  console.log(features[0]);

                  // ColorScale pour plus tard ce qui permet d'assigner une couleur de fond pour chaque departement
                  var colorScale = d3.scale.category20c();

                  // Pour chaque entrée du tableau on ajoutes plusieurs attributs
                  features.enter()
                    .append("path")
                      .attr('class', path.properties)
                      .attr('fill',"#3498db")
                      .attr("d", path);
                });

              }());
            </script>


        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            // (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            // function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            // e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            // e.src='//www.google-analytics.com/analytics.js';
            // r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            // ga('create','UA-XXXXX-X');ga('send','pageview');
        </script>


        <!-- build:js scripts/main.js -->
        <script data-main="scripts/main" src="bower_components/requirejs/require.js"></script>
        <!-- endbuild -->
</body>
</html>
